[{"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\home\\Home.js":"1","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\home\\EnquiryModal.js":"2","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\Navbar\\Header.js":"3","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\Hotels.js":"4","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\admin\\Admin.js":"5","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\App.js":"6","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Api.js":"7","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\HotelSearch.js":"8","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\SearchForm.js":"9","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\Typeahead.js":"10"},{"size":353,"mtime":1611695802486,"results":"11","hashOfConfig":"12"},{"size":1443,"mtime":1611845597349,"results":"13","hashOfConfig":"12"},{"size":1188,"mtime":1611675084404,"results":"14","hashOfConfig":"12"},{"size":642,"mtime":1611846093135,"results":"15","hashOfConfig":"12"},{"size":210,"mtime":1611676759963,"results":"16","hashOfConfig":"12"},{"size":717,"mtime":1611676763680,"results":"17","hashOfConfig":"12"},{"size":402,"mtime":1611842575755,"results":"18","hashOfConfig":"12"},{"size":2646,"mtime":1611845915964,"results":"19","hashOfConfig":"12"},{"size":602,"mtime":1611846090670,"results":"20","hashOfConfig":"12"},{"size":402,"mtime":1611845260925,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1mxtu7e",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\home\\Home.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\home\\EnquiryModal.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\Navbar\\Header.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\Hotels.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\admin\\Admin.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\App.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Api.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\HotelSearch.js",["43"],"import React, { useEffect, useState, useRef } from \"react\";\r\nimport { BASE_URL, FETCH_OPTIONS } from \"../../Api\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport SearchForm from \"../hotels/SearchForm\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Typeahead from \"./Typeahead\";\r\n\r\nfunction HotelSearch() {\r\n  const [hotel, setHotel] = useState([]);\r\n  const [filteredHotel, setFilteredHotel] = useState([]);\r\n  const [showDisplay, setShowDisplay] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [display, setDisplay] = useState(false);\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const url = BASE_URL + \"establishments\";\r\n    fetch(url, FETCH_OPTIONS)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json[0].id);\r\n        setHotel(json);\r\n        setFilteredHotel(json);\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const filterHotel = function (e) {\r\n    const serachValue = e.target.value.toLowerCase();\r\n\r\n    const filterArray = hotel.filter(function (char) {\r\n      const lowerCaseHotel = char.name.toLowerCase();\r\n      if (lowerCaseHotel.includes(serachValue)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n    setFilteredHotel(filterArray);\r\n  };\r\n\r\n  const filterSuggestion = function (e) {\r\n    const serachValue = e.target.value.toLowerCase();\r\n\r\n    const suggestionArray = hotel.filter(function (char) {\r\n      const lowerCaseHotel = char.name.toLowerCase();\r\n      if (lowerCaseHotel.includes(serachValue)) {\r\n        return setDisplay(true);\r\n      }\r\n      return setDisplay(false);\r\n    });\r\n    setShowDisplay(suggestionArray);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mousedown\", clickOutside);\r\n    return () => {\r\n      window.removeEventListener(\"mousedown\", clickOutside);\r\n    };\r\n  });\r\n\r\n  const clickOutside = (event) => {\r\n    const { current: wrap } = wrapperRef;\r\n    if (wrap && !wrap.contains(event.target)) {\r\n      setDisplay(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container id=\"SpinnerContainer\">\r\n        <Spinner animation=\"border\" id=\"spinner\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container ref={wrapperRef}>\r\n      <SearchForm handleSearch={filterHotel} showTypeahead={filterSuggestion} />\r\n      {filteredHotel.map(\r\n        ({ id, name, image }) =>\r\n          display && <Typeahead key={id} name={name} image={image} />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default HotelSearch;\r\n","C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\SearchForm.js",[],"C:\\Users\\Sven Ingar\\Desktop\\web\\08-Project-Exam-2\\holidaze\\src\\Components\\hotels\\Typeahead.js",[],{"ruleId":"44","severity":1,"message":"45","line":11,"column":10,"nodeType":"46","messageId":"47","endLine":11,"endColumn":21},"no-unused-vars","'showDisplay' is assigned a value but never used.","Identifier","unusedVar"]